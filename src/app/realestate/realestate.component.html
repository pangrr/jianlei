<mat-toolbar color="warn" class="fixed top font-normal" *ngIf="realestate">
  <mat-toolbar-row>
    <button mat-button>返回</button>
    <span>{{realestate.name}}</span>
    <button mat-button>地图找房</button>
  </mat-toolbar-row>
</mat-toolbar>

<mat-card class="horizontal-center" *ngIf="realestate">
  <slideshow [imageUrls]="realestate.images" [minHeight]="'300px'" [autoPlay]="true" [showDots]="true" [arrowSize]="'20px'"></slideshow>

  <mat-grid-list *ngIf="realestate.redpocket; let redpocket" cols="2" rowHeight="200px">
    <mat-grid-tile>
      <mat-card-content>
        <mat-card-subtitle class="black">{{realestate.name}}</mat-card-subtitle>
        <mat-card-subtitle>均价：<span class="red">{{realestate.price}}</span>元/平米</mat-card-subtitle>
        <mat-card-subtitle>开盘：<span class="black">在售中</span></mat-card-subtitle>
        <mat-card-subtitle>优惠折扣：<span class="black">新房红包</span></mat-card-subtitle>
        <mat-card-subtitle>地址：<span class="black">{{realestate.address}}</span></mat-card-subtitle>
      </mat-card-content>
    </mat-grid-tile>
    <mat-grid-tile>
      <mat-card-content>
        <img (click)="openDialog('领取红包')" src="assets/redpocket.png" class="redpocket clickable">
        <mat-card-subtitle>￥<span class="red">{{redpocket.amount}}</span><span class="font-small">有效期：{{redpocket.startDate}} - {{redpocket.endDate}}</span></mat-card-subtitle>
      </mat-card-content>
    </mat-grid-tile>
  </mat-grid-list>

  <mat-grid-list class="background-red" cols="2" rowHeight="100px">
    <mat-grid-tile>
      <mat-card-content>
        <mat-card-subtitle class="white">￥<span class="font-big">{{realestate.groupPrice}}</span> 团购价</mat-card-subtitle>
        <button class="background-white" mat-button (click)="openDialog('团购看房')">预约团购看房</button>
      </mat-card-content>
    </mat-grid-tile>
    <mat-grid-tile>
      <mat-card-content>
        <mat-card-subtitle class="white">团购看房前参加有效</mat-card-subtitle>
        <mat-card-subtitle class="white">10天 12时 12分</mat-card-subtitle>
        <mat-card-subtitle class="white">120人参加</mat-card-subtitle>
      </mat-card-content>
    </mat-grid-tile>
  </mat-grid-list>


  <mat-card-content>
    <mat-card-subtitle class="black">{{realestate.name}}售楼处：{{realestate.phone}}<a href="tel:{{realestate.phone}}"><mat-icon svgIcon="phone"></mat-icon></a></mat-card-subtitle>
    <mat-card-subtitle>最新政策，更多优惠详情，请致电售楼处[120人拨打]</mat-card-subtitle>
  </mat-card-content>

  <mat-card-content *ngIf="realestate.consultant; let consultant">
    <mat-card-subtitle class="font-big">置业顾问</mat-card-subtitle>
    <mat-card-subtitle class="black">{{consultant.title}}：{{consultant.phone}}<a href="tel:{{consultant.phone}}"><mat-icon class="black" svgIcon="phone"></mat-icon></a></mat-card-subtitle>
    <mat-card-subtitle>{{consultant.description}}</mat-card-subtitle>
  </mat-card-content>
    
  <mat-card-content>
    <mat-card-subtitle class="font-big">楼盘信息</mat-card-subtitle>
    <p class="indent" *ngFor="let paragraph of description">
      {{paragraph}}
    </p>
  </mat-card-content>

  <mat-card-content *ngIf="realestate.visitServices; let services">
    <mat-card-subtitle class="font-big">楼盘服务</mat-card-subtitle>
    <mat-card-subtitle><button color="warn" (click)="openDialog('班车看房')" mat-button>班车看房</button>{{services.taxi}}</mat-card-subtitle>
    <mat-card-subtitle><button color="warn" (click)="openDialog('自驾报销')" mat-button>自驾报销</button>{{services.reimburse}}</mat-card-subtitle>
  </mat-card-content>

  <mat-card-content>
    <mat-card-subtitle class="font-big">卫星地图</mat-card-subtitle>
  </mat-card-content>

  <mat-card-content>
    <mat-card-subtitle class="font-big">用户点评(232)</mat-card-subtitle>
  </mat-card-content>

  <mat-card-content *ngFor="let comment of realestate.comments">
    <mat-card-subtitle class="black"><mat-icon svgIcon="account"></mat-icon><span class="blue">{{comment.account}}</span></mat-card-subtitle>
    <p class="comment">{{comment.text}}</p>
    <mat-card-subtitle class="comment">{{comment.date}}</mat-card-subtitle>
  </mat-card-content>

  <mat-card-content>
    <mat-card-subtitle class="font-big">周边楼盘</mat-card-subtitle>
  </mat-card-content>

  <mat-grid-list *ngFor="let r of relatedRealestates" (click)="gotoRealestate(r._id)" class="related-realestate clickable" cols="2" rowHeight="100px">
    <mat-grid-tile>
      <img [src]="r.images[0]">
    </mat-grid-tile>
    <mat-grid-tile>
      <mat-card-content>
        <mat-card-subtitle class="black">{{r.name}}</mat-card-subtitle>
        <mat-card-subtitle>{{r.address}}</mat-card-subtitle>
        <mat-card-subtitle class="red">均价{{r.price}}元/平米</mat-card-subtitle>
      </mat-card-content>
    </mat-grid-tile>
  </mat-grid-list>

  <mat-toolbar-row></mat-toolbar-row>
</mat-card>


<mat-toolbar class="fixed bottom" *ngIf="realestate">
  <mat-toolbar-row>
    <button color="warn" mat-button (click)="openDialog('预约看房')">预约看房</button>
    <button color="warn" mat-button (click)="openDialog('领取红包')">新房红包</button>
    <button color="warn" mat-button (click)="openDialog('预约团购看房')">团购看房</button>
    <a href="tel:{{realestate.phone}}"><button color="warn" mat-button>售楼热线</button></a>
  </mat-toolbar-row>
</mat-toolbar>